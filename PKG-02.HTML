<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PKG02 Reconnect Call Performance Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 md:p-8">

        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-[#003f5c] mb-2">Reconnect Call Performance Analysis</h1>
            <p class="text-xl text-[#58508d]">PKG02: A Comparative Look at July vs. August 2025</p>
        </header>

        <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
            <div class="bg-white rounded-lg shadow-md p-6 text-center">
                <h3 class="text-lg font-semibold text-gray-500 mb-2">Total Calls Received</h3>
                <p class="text-5xl font-bold text-[#003f5c]">3,646</p>
                <p class="text-md text-green-600 font-semibold">15% Decrease from July</p>
            </div>
            <div class="bg-white rounded-lg shadow-md p-6 text-center">
                <h3 class="text-lg font-semibold text-gray-500 mb-2">Field Visits (FV) Generated</h3>
                <p class="text-5xl font-bold text-[#58508d]">196</p>
                <p class="text-md text-green-600 font-semibold">13.7% Decrease from July</p>
            </div>
            <div class="bg-white rounded-lg shadow-md p-6 text-center">
                <h3 class="text-lg font-semibold text-gray-500 mb-2">Total Errors Logged</h3>
                <p class="text-5xl font-bold text-[#bc5090]">102</p>
                <p class="text-md text-green-600 font-semibold">20.9% Decrease from July</p>
            </div>
            <div class="bg-white rounded-lg shadow-md p-6 text-center">
                <h3 class="text-lg font-semibold text-gray-500 mb-2">Same-Day Connections</h3>
                <p class="text-5xl font-bold text-[#ff6361]">75%</p>
                <p class="text-md text-green-600 font-semibold">Up from 63.4% in July</p>
            </div>
        </section>

        <section class="bg-white rounded-lg shadow-md p-6 mb-12">
            <h2 class="text-2xl font-bold text-center text-[#003f5c] mb-6">Call Resolution Timeliness: A Positive Shift</h2>
            <p class="text-center max-w-3xl mx-auto text-gray-600 mb-8">In August, there was a marked improvement in resolving reconnect calls on the same day they were reported. While the total volume of field visits decreased, the efficiency of the response team increased, leading to faster resolutions for customers.</p>
            <div class="chart-container h-80 md:h-96">
                <canvas id="connectionTimelineChart"></canvas>
            </div>
        </section>

        <section class="bg-white rounded-lg shadow-md p-6 mb-12">
            <h2 class="text-2xl font-bold text-center text-[#003f5c] mb-6">Analysis of Error Trends</h2>
            <p class="text-center max-w-3xl mx-auto text-gray-600 mb-8">Overall errors saw a significant reduction of nearly 21%. Notably, "Consumption Not Updated" issues were completely eliminated. However, "Error 4" instances increased, highlighting a new area that requires investigation and focused training.</p>
            <div class="chart-container h-80 md:h-96">
                <canvas id="errorAnalysisChart"></canvas>
            </div>
        </section>

        <section class="bg-white rounded-lg shadow-md p-6 mb-12">
            <h2 class="text-2xl font-bold text-center text-[#003f5c] mb-6">Sub-division Performance Spotlight</h2>
            <p class="text-center max-w-3xl mx-auto text-gray-600 mb-8">Performance varied across sub-divisions. While some areas like Durlavcherra and Patherkandi saw a surge in activity and successful connections, others like Kalain and Lala experienced a decrease in volume. This chart shows the total Field Visits (FVs) generated in August, indicating the workload distribution.</p>
            <div class="chart-container h-96 md:h-[500px]">
                <canvas id="subDivisionChart"></canvas>
            </div>
        </section>

        <footer class="text-center mt-12 py-6 border-t border-gray-300">
            <p class="text-gray-600">This infographic provides a high-level summary of the PKG02 Reconnect Call performance for July and August 2025.</p>
            <p class="text-gray-500 text-sm">Generated on August 24, 2025</p>
        </footer>

    </div>

    <script>
        const wrapLabel = (label) => {
            const maxLength = 16;
            if (label.length <= maxLength) {
                return label;
            }
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            for (const word of words) {
                if ((currentLine + word).length > maxLength) {
                    lines.push(currentLine.trim());
                    currentLine = '';
                }
                currentLine += word + ' ';
            }
            lines.push(currentLine.trim());
            return lines;
        };

        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' ');
            } else {
                return label;
            }
        };

        const chartOptionsTemplate = {
            maintainAspectRatio: false,
            responsive: true,
            plugins: {
                legend: {
                    position: 'top',
                },
                tooltip: {
                    callbacks: {
                        title: tooltipTitleCallback
                    }
                }
            }
        };

        const connectionTimelineData = {
            labels: ['July 2025', 'August 2025'],
            datasets: [
                {
                    label: 'Connected Same Day',
                    data: [144, 147],
                    backgroundColor: '#ff6361',
                    borderColor: '#ff6361',
                    borderWidth: 1
                },
                {
                    label: 'Connected Next Day',
                    data: [83, 49],
                    backgroundColor: '#ffa600',
                    borderColor: '#ffa600',
                    borderWidth: 1
                }
            ]
        };

        new Chart(document.getElementById('connectionTimelineChart'), {
            type: 'bar',
            data: connectionTimelineData,
            options: {
                ...chartOptionsTemplate,
                scales: {
                    x: {
                        stacked: true,
                    },
                    y: {
                        stacked: true,
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Number of Connections'
                        }
                    }
                },
                 plugins: {
                    ...chartOptionsTemplate.plugins,
                    title: {
                        display: true,
                        text: 'Field Visit Connections: July vs. August'
                    }
                }
            }
        });

        const errorAnalysisData = {
            labels: ['Error 1', 'Error 4', 'Error 5', 'Error 6', 'Error 11'],
            datasets: [
                {
                    label: 'July 2025',
                    data: [69, 35, 10, 12, 3],
                    backgroundColor: 'rgba(0, 63, 92, 0.7)',
                    borderColor: '#003f5c',
                    borderWidth: 1,
                    fill: true
                },
                {
                    label: 'August 2025',
                    data: [50, 45, 1, 5, 1],
                    backgroundColor: 'rgba(255, 99, 97, 0.7)',
                    borderColor: '#ff6361',
                    borderWidth: 1,
                    fill: true
                }
            ]
        };

        new Chart(document.getElementById('errorAnalysisChart'), {
            type: 'radar',
            data: errorAnalysisData,
            options: {
                ...chartOptionsTemplate,
                plugins: {
                     ...chartOptionsTemplate.plugins,
                    title: {
                        display: true,
                        text: 'Monthly Error Comparison'
                    }
                }
            }
        });

        const subDivisionRawData = [
            { label: 'Udharbond', value: 111 },
            { label: 'Kalain', value: 87 },
            { label: 'Sonai', value: 82 },
            { label: 'Lala', value: 79 },
            { label: 'Durlavcherra', value: 26 },
            { label: 'Patherkandi', value: 25 },
            { label: 'Lakhipur', value: 18 },
            { label: 'Hailakandi', value: 17 },
            { label: 'Silchar-II', value: 17 },
            { label: 'Badarpur', value: 13 },
            { label: 'Nilambazar', value: 13 },
            { label: 'R.K. Nagar', value: 10 },
            { label: 'Silchar-III', value: 8 },
            { label: 'Karimganj', value: 4 },
            { label: 'Silchar-I', value: 4 },
            { label: 'Lowairpoa', value: 2 }
        ];

        const subDivisionData = {
            labels: subDivisionRawData.map(d => wrapLabel(d.label)),
            datasets: [{
                label: 'Field Visits (FV) Generated in August',
                data: subDivisionRawData.map(d => d.value),
                backgroundColor: ['#003f5c', '#2f4b7c', '#665191', '#a05195', '#d45087', '#f95d6a', '#ff7c43', '#ffa600', '#003f5c', '#2f4b7c', '#665191', '#a05195', '#d45087', '#f95d6a', '#ff7c43', '#ffa600'],
                borderColor: '#ffffff',
                borderWidth: 1
            }]
        };

        new Chart(document.getElementById('subDivisionChart'), {
            type: 'bar',
            data: subDivisionData,
            options: {
                ...chartOptionsTemplate,
                indexAxis: 'y',
                scales: {
                    y: {
                        beginAtZero: true
                    },
                    x: {
                         title: {
                            display: true,
                            text: 'Number of Field Visits'
                        }
                    }
                },
                 plugins: {
                    ...chartOptionsTemplate.plugins,
                    legend: {
                        display: false
                    },
                    title: {
                        display: true,
                        text: 'FV Generated by Sub-division (August 2025)'
                    }
                }
            }
        });

    </script>
</body>
</html>
